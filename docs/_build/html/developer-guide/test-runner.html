

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unified ML Test Runner &mdash; mlpy 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=6ef3b6bf" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=51b770b3"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Documentation" href="../api/modules.html" />
    <link rel="prev" title="Development Standards" href="development-standards.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mlpy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/tutorial.html">ML Language Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/language-reference.html">Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/standard-library.html">Standard Library</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Integration Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration-guide/index.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration-guide/python-integration.html">Python Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration-guide/api-reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration-guide/examples.html">Integration Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="security-model.html">Security Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation-pipeline.html">Compilation Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="runtime-systems.html">Runtime Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-mlpy.html">Extending mlpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="stdlib-module-development.html">Standard Library Module Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing-stdlib-modules.html">Writing Standard Library Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bridge-system-guide.html">Bridge System Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="security-analysis-extension.html">Security Analysis Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="codegen-extension.html">Code Generation Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="ide-tooling-integration.html">IDE and Tooling Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-standards.html">Development Standards</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Unified ML Test Runner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-interface">Command-Line Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-syntax">Basic Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#required-mode-selection">Required Mode Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-format-options">Output Format Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#input-and-filtering-options">Input and Filtering Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#development-workflow">Development Workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-and-analysis">Debugging and Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ci-cd-integration">CI/CD Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-architecture">Pipeline Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#complete-pipeline-stages">Complete Pipeline Stages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stage-result-interpretation">Stage Result Interpretation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipeline-flow-control">Pipeline Flow Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-categories">Test Categories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-formats">Output Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance-metrics">Performance Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integration-with-development">Integration with Development</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-new-tests">Adding New Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-failed-tests">Debugging Failed Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#target-audience">Target Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#quick-start-for-contributors">Quick Start for Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#security-first-development">Security-First Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#performance-requirements">Performance Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#getting-help">Getting Help</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="security-model.html">Security Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending-mlpy.html">Extending mlpy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mlpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Developer Guide</a></li>
      <li class="breadcrumb-item active">Unified ML Test Runner</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developer-guide/test-runner.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unified-ml-test-runner">
<h1>Unified ML Test Runner<a class="headerlink" href="#unified-ml-test-runner" title="Link to this heading"></a></h1>
<p>The Unified ML Test Runner provides comprehensive end-to-end validation of the ML pipeline, testing everything from parsing to execution with detailed reporting and analysis. This production-ready testing infrastructure ensures pipeline excellence with 94.4% success rate across the complete test suite.</p>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id3">Overview</a></p></li>
<li><p><a class="reference internal" href="#command-line-interface" id="id4">Command-Line Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-syntax" id="id5">Basic Syntax</a></p></li>
<li><p><a class="reference internal" href="#required-mode-selection" id="id6">Required Mode Selection</a></p></li>
<li><p><a class="reference internal" href="#output-format-options" id="id7">Output Format Options</a></p></li>
<li><p><a class="reference internal" href="#input-and-filtering-options" id="id8">Input and Filtering Options</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage-examples" id="id9">Usage Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#development-workflow" id="id10">Development Workflow</a></p></li>
<li><p><a class="reference internal" href="#debugging-and-analysis" id="id11">Debugging and Analysis</a></p></li>
<li><p><a class="reference internal" href="#ci-cd-integration" id="id12">CI/CD Integration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pipeline-architecture" id="id13">Pipeline Architecture</a></p>
<ul>
<li><p><a class="reference internal" href="#complete-pipeline-stages" id="id14">Complete Pipeline Stages</a></p></li>
<li><p><a class="reference internal" href="#stage-result-interpretation" id="id15">Stage Result Interpretation</a></p></li>
<li><p><a class="reference internal" href="#pipeline-flow-control" id="id16">Pipeline Flow Control</a></p></li>
<li><p><a class="reference internal" href="#test-categories" id="id17">Test Categories</a></p>
<ul>
<li><p><a class="reference internal" href="#language-coverage-25-files" id="id18">Language Coverage (25 files)</a></p></li>
<li><p><a class="reference internal" href="#malicious-programs-4-files" id="id19">Malicious Programs (4 files)</a></p></li>
<li><p><a class="reference internal" href="#legitimate-programs-2-files" id="id20">Legitimate Programs (2 files)</a></p></li>
<li><p><a class="reference internal" href="#edge-cases-2-files" id="id21">Edge Cases (2 files)</a></p></li>
<li><p><a class="reference internal" href="#examples-3-files" id="id22">Examples (3 files)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#output-formats" id="id23">Output Formats</a></p>
<ul>
<li><p><a class="reference internal" href="#matrix-view" id="id24">Matrix View</a></p></li>
<li><p><a class="reference internal" href="#detailed-output" id="id25">Detailed Output</a></p></li>
<li><p><a class="reference internal" href="#json-results" id="id26">JSON Results</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#performance-metrics" id="id27">Performance Metrics</a></p>
<ul>
<li><p><a class="reference internal" href="#current-benchmarks" id="id28">Current Benchmarks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integration-with-development" id="id29">Integration with Development</a></p>
<ul>
<li><p><a class="reference internal" href="#continuous-integration" id="id30">Continuous Integration</a></p></li>
<li><p><a class="reference internal" href="#pre-commit-hooks" id="id31">Pre-commit Hooks</a></p></li>
<li><p><a class="reference internal" href="#performance-regression-detection" id="id32">Performance Regression Detection</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adding-new-tests" id="id33">Adding New Tests</a></p>
<ul>
<li><p><a class="reference internal" href="#test-file-structure" id="id34">Test File Structure</a></p></li>
<li><p><a class="reference internal" href="#test-requirements" id="id35">Test Requirements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#debugging-failed-tests" id="id36">Debugging Failed Tests</a></p>
<ul>
<li><p><a class="reference internal" href="#common-issues" id="id37">Common Issues</a></p></li>
<li><p><a class="reference internal" href="#debugging-commands" id="id38">Debugging Commands</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#best-practices" id="id39">Best Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#test-development" id="id40">Test Development</a></p></li>
<li><p><a class="reference internal" href="#quality-assurance" id="id41">Quality Assurance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#troubleshooting" id="id42">Troubleshooting</a></p>
<ul>
<li><p><a class="reference internal" href="#common-solutions" id="id43">Common Solutions</a></p></li>
<li><p><a class="reference internal" href="#getting-help" id="id44">Getting Help</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The test runner (<code class="docutils literal notranslate"><span class="pre">tests/ml_test_runner.py</span></code>) validates the complete ML transpilation pipeline across 36+ test files covering all language features, security scenarios, and edge cases with enterprise-grade testing capabilities.</p>
<p><strong>Core Capabilities:</strong></p>
<ul class="simple">
<li><p><strong>Complete Pipeline Testing</strong>: Validates all 10 pipeline stages from parsing to sandbox execution</p></li>
<li><p><strong>Comprehensive Test Coverage</strong>: 36+ ML files covering 11,478 lines of ML code across 4 categories</p></li>
<li><p><strong>Advanced Result Matrix</strong>: Visual success/failure grid with detailed stage breakdown</p></li>
<li><p><strong>Performance Profiling</strong>: Timing analysis and optimization metrics</p></li>
<li><p><strong>Machine-Readable Output</strong>: JSON results for CI/CD integration and automation</p></li>
<li><p><strong>Category-Based Testing</strong>: Targeted testing for specific program types</p></li>
<li><p><strong>Security Validation</strong>: 100% malicious code detection with 0% false positives</p></li>
<li><p><strong>Lazy-Loaded Components</strong>: Efficient resource usage with on-demand component initialization</p></li>
<li><p><strong>Detailed Error Analysis</strong>: Comprehensive failure reporting with stage-specific diagnostics</p></li>
</ul>
</section>
<section id="command-line-interface">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Command-Line Interface</a><a class="headerlink" href="#command-line-interface" title="Link to this heading"></a></h2>
<p>The test runner provides a comprehensive CLI with multiple modes and output options for different development and testing scenarios.</p>
<section id="basic-syntax">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Basic Syntax</a><a class="headerlink" href="#basic-syntax" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span><span class="o">[</span>MODE<span class="o">]</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="required-mode-selection">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Required Mode Selection</a><a class="headerlink" href="#required-mode-selection" title="Link to this heading"></a></h3>
<p><strong>Exactly one mode must be specified:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-parse">
<span class="sig-name descname"><span class="pre">--parse</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-parse" title="Link to this definition"></a></dt>
<dd><p>Run parsing validation only (fast mode)</p>
<ul class="simple">
<li><p>Tests only the parsing and AST generation stages</p></li>
<li><p>Average execution: ~50ms per file</p></li>
<li><p>Use for quick syntax validation during development</p></li>
<li><p>Skips security analysis, code generation, and execution</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-full">
<span class="sig-name descname"><span class="pre">--full</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-full" title="Link to this definition"></a></dt>
<dd><p>Run complete pipeline testing (comprehensive mode)</p>
<ul class="simple">
<li><p>Tests all 10 pipeline stages from parse to execution</p></li>
<li><p>Average execution: ~500ms per file</p></li>
<li><p>Use for complete validation and integration testing</p></li>
<li><p>Includes security analysis, optimization, and sandbox execution</p></li>
</ul>
</dd></dl>

</section>
<section id="output-format-options">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Output Format Options</a><a class="headerlink" href="#output-format-options" title="Link to this heading"></a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-matrix">
<span class="sig-name descname"><span class="pre">--matrix</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-matrix" title="Link to this definition"></a></dt>
<dd><p>Display results in matrix format</p>
<ul class="simple">
<li><p>Shows visual grid with stage-by-stage results</p></li>
<li><p>Compact overview of all test files</p></li>
<li><p>Uses symbols: <code class="docutils literal notranslate"><span class="pre">+</span></code> (pass), <code class="docutils literal notranslate"><span class="pre">X</span></code> (fail), <code class="docutils literal notranslate"><span class="pre">E</span></code> (error), <code class="docutils literal notranslate"><span class="pre">-</span></code> (skip)</p></li>
<li><p>Works with both <code class="docutils literal notranslate"><span class="pre">--parse</span></code> and <code class="docutils literal notranslate"><span class="pre">--full</span></code> modes</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-details">
<span class="sig-name descname"><span class="pre">--details</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-details" title="Link to this definition"></a></dt>
<dd><p>Include error details in output (requires <code class="docutils literal notranslate"><span class="pre">--matrix</span></code>)</p>
<ul class="simple">
<li><p>Shows error messages alongside matrix results</p></li>
<li><p>Includes execution details for failed tests</p></li>
<li><p>Displays security threat counts for each file</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-show-failures">
<span class="sig-name descname"><span class="pre">--show-failures</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-show-failures" title="Link to this definition"></a></dt>
<dd><p>Show only failed files with detailed diagnostics</p>
<ul class="simple">
<li><p>Filters output to focus on problematic files</p></li>
<li><p>Provides comprehensive error analysis</p></li>
<li><p>Includes stage-specific failure information</p></li>
<li><p>Shows execution details and security threat data</p></li>
</ul>
</dd></dl>

</section>
<section id="input-and-filtering-options">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Input and Filtering Options</a><a class="headerlink" href="#input-and-filtering-options" title="Link to this heading"></a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-dir">
<span class="sig-name descname"><span class="pre">--dir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-dir" title="Link to this definition"></a></dt>
<dd><p>Specify test directory (default: <code class="docutils literal notranslate"><span class="pre">tests/ml_integration</span></code>)</p>
<ul class="simple">
<li><p>Override default test file discovery location</p></li>
<li><p>Useful for testing custom test suites</p></li>
<li><p>Searches recursively for <code class="docutils literal notranslate"><span class="pre">.ml</span></code> files</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-category">
<span class="sig-name descname"><span class="pre">--category</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;category&gt;</span></span><a class="headerlink" href="#cmdoption-category" title="Link to this definition"></a></dt>
<dd><p>Run tests only for specific category</p>
<p><strong>Available categories:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">legitimate_programs</span></code> - Real-world applications (2 files)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">malicious_programs</span></code> - Security threats (4 files)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edge_cases</span></code> - Boundary conditions (2 files)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">language_coverage</span></code> - Core language features (25+ files)</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-output">
<span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><a class="headerlink" href="#cmdoption-output" title="Link to this definition"></a></dt>
<dd><p>Save detailed results to JSON file</p>
<ul class="simple">
<li><p>Default: <code class="docutils literal notranslate"><span class="pre">ml_parse_results.json</span></code> (parse mode) or <code class="docutils literal notranslate"><span class="pre">ml_full_results.json</span></code> (full mode)</p></li>
<li><p>Machine-readable format for automation and analysis</p></li>
<li><p>Includes timing data, error details, and stage results</p></li>
</ul>
</dd></dl>

</section>
</section>
<section id="usage-examples">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Usage Examples</a><a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h2>
<section id="development-workflow">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Development Workflow</a><a class="headerlink" href="#development-workflow" title="Link to this heading"></a></h3>
<p><strong>Quick syntax validation during development:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fast parsing check (recommended for frequent use)</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--parse

<span class="c1"># Parse-only with matrix view</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--parse<span class="w"> </span>--matrix
</pre></div>
</div>
<p><strong>Complete validation for releases:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Full pipeline test with matrix display</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--matrix

<span class="c1"># Full test with detailed error information</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--matrix<span class="w"> </span>--details
</pre></div>
</div>
</section>
<section id="debugging-and-analysis">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Debugging and Analysis</a><a class="headerlink" href="#debugging-and-analysis" title="Link to this heading"></a></h3>
<p><strong>Focus on failures:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show only failed tests with detailed diagnostics</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--show-failures

<span class="c1"># Test specific category that&#39;s having issues</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--category<span class="w"> </span>malicious_programs<span class="w"> </span>--matrix<span class="w"> </span>--details
</pre></div>
</div>
<p><strong>Custom test directory:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test custom ML files</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--parse<span class="w"> </span>--dir<span class="w"> </span>examples/advanced<span class="w"> </span>--matrix
</pre></div>
</div>
<p><strong>Save results for analysis:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate detailed JSON report</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--output<span class="w"> </span>pipeline_report.json
</pre></div>
</div>
</section>
<section id="ci-cd-integration">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">CI/CD Integration</a><a class="headerlink" href="#ci-cd-integration" title="Link to this heading"></a></h3>
<p><strong>Continuous Integration:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Quick CI check (exits with code 1 if success rate &lt; 90%)</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--parse

<span class="c1"># Full validation for release branches</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--matrix
</pre></div>
</div>
<p><strong>Performance monitoring:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate performance baseline</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--output<span class="w"> </span>baseline_<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.json
</pre></div>
</div>
<p><strong>Security validation:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure all malicious programs are blocked</span>
python<span class="w"> </span>tests/ml_test_runner.py<span class="w"> </span>--full<span class="w"> </span>--category<span class="w"> </span>malicious_programs<span class="w"> </span>--show-failures
</pre></div>
</div>
</section>
</section>
<section id="pipeline-architecture">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Pipeline Architecture</a><a class="headerlink" href="#pipeline-architecture" title="Link to this heading"></a></h2>
<p>The test runner validates a sophisticated 10-stage pipeline that transforms ML source code into secure, executable Python with comprehensive analysis at each step.</p>
<section id="complete-pipeline-stages">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Complete Pipeline Stages</a><a class="headerlink" href="#complete-pipeline-stages" title="Link to this heading"></a></h3>
<dl class="simple">
<dt><strong>Stage 1: Parse</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">MLParser</span></code> with Lark grammar</p></li>
<li><p><strong>Function</strong>: ML source code parsing and syntax validation</p></li>
<li><p><strong>Input</strong>: Raw ML source code (<code class="docutils literal notranslate"><span class="pre">.ml</span></code> files)</p></li>
<li><p><strong>Output</strong>: Abstract Syntax Tree (AST)</p></li>
<li><p><strong>Typical Time</strong>: 0.05ms per file</p></li>
<li><p><strong>Failure Modes</strong>: Syntax errors, grammar violations, malformed constructs</p></li>
</ul>
</dd>
<dt><strong>Stage 2: AST</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: AST generation (automatic with successful parsing)</p></li>
<li><p><strong>Function</strong>: Create structured representation of parsed code</p></li>
<li><p><strong>Input</strong>: Parsed tokens from Lark</p></li>
<li><p><strong>Output</strong>: Structured AST nodes</p></li>
<li><p><strong>Success Criteria</strong>: AST created without structural issues</p></li>
</ul>
</dd>
<dt><strong>Stage 3: AST_Valid</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">ASTValidator</span></code></p></li>
<li><p><strong>Function</strong>: Validate AST structure and integrity</p></li>
<li><p><strong>Analysis</strong>: Node relationships, required attributes, tree consistency</p></li>
<li><p><strong>Output</strong>: Validation issues list and overall validity status</p></li>
<li><p><strong>Failure Modes</strong>: Malformed AST, missing required nodes, structural inconsistencies</p></li>
</ul>
</dd>
<dt><strong>Stage 4: Transform</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">ASTTransformer</span></code></p></li>
<li><p><strong>Function</strong>: Normalize and transform AST for downstream processing</p></li>
<li><p><strong>Operations</strong>: Code normalization, syntax sugar expansion, optimization preparation</p></li>
<li><p><strong>Metrics</strong>: Transformation count, node changes, processing time</p></li>
<li><p><strong>Output</strong>: Transformed AST ready for analysis</p></li>
</ul>
</dd>
<dt><strong>Stage 5: TypeCheck</strong> (Information Collection)</dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">MLInformationCollector</span></code></p></li>
<li><p><strong>Function</strong>: Static analysis and symbol table generation</p></li>
<li><p><strong>Analysis</strong>: Variable tracking, scope analysis, type inference</p></li>
<li><p><strong>Output</strong>: Information result with variables, functions, and analysis metadata</p></li>
<li><p><strong>Note</strong>: Never fails - always collects available information</p></li>
</ul>
</dd>
<dt><strong>Stage 6: Security_Deep</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">SecurityDeepAnalyzer</span></code></p></li>
<li><p><strong>Function</strong>: Advanced multi-pass security analysis with type awareness</p></li>
<li><p><strong>Analysis</strong>: Complex threat patterns, context-aware detection, false positive reduction</p></li>
<li><p><strong>Metrics</strong>: Threat count by severity, analysis passes, false positive rate</p></li>
<li><p><strong>Typical Time</strong>: 0.14ms for legitimate code, 1.8ms for malicious code</p></li>
</ul>
</dd>
<dt><strong>Stage 7: Optimize</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">MLOptimizer</span></code></p></li>
<li><p><strong>Function</strong>: Code optimization and performance enhancement</p></li>
<li><p><strong>Operations</strong>: Dead code elimination, constant folding, control flow optimization</p></li>
<li><p><strong>Metrics</strong>: Optimizations applied, nodes eliminated, estimated performance gain</p></li>
<li><p><strong>Output</strong>: Optimized AST for code generation</p></li>
</ul>
</dd>
<dt><strong>Stage 8: Security</strong> (Parallel Analysis)</dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">ParallelSecurityAnalyzer</span></code></p></li>
<li><p><strong>Function</strong>: Original security analysis with pattern matching and data flow tracking</p></li>
<li><p><strong>Analysis</strong>: Pattern detection, AST violations, data flow security</p></li>
<li><p><strong>Performance</strong>: Multi-threaded analysis with 97.8% performance improvement</p></li>
<li><p><strong>Success Criteria</strong>: 0 threats for legitimate code, &gt;0 threats for malicious code</p></li>
</ul>
</dd>
<dt><strong>Stage 9: CodeGen</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">MLTranspiler</span></code> Python code generator</p></li>
<li><p><strong>Function</strong>: Generate Python code with source maps and security integration</p></li>
<li><p><strong>Features</strong>: Source map generation, capability integration, runtime helper injection</p></li>
<li><p><strong>Validation</strong>: Generated code safety checks, syntax validation</p></li>
<li><p><strong>Output</strong>: Executable Python code with debugging metadata</p></li>
</ul>
</dd>
<dt><strong>Stage 10: Execution</strong></dt><dd><ul class="simple">
<li><p><strong>Component</strong>: <code class="docutils literal notranslate"><span class="pre">MLSandbox</span></code> with <code class="docutils literal notranslate"><span class="pre">SandboxConfig</span></code></p></li>
<li><p><strong>Function</strong>: Secure execution in isolated environment</p></li>
<li><p><strong>Security</strong>: Process isolation, resource limits, capability enforcement</p></li>
<li><p><strong>Monitoring</strong>: Execution time, memory usage, exit codes, stdout/stderr capture</p></li>
<li><p><strong>Success Criteria</strong>: Successful execution for legitimate code, controlled failure for malicious code</p></li>
</ul>
</dd>
</dl>
</section>
<section id="stage-result-interpretation">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Stage Result Interpretation</a><a class="headerlink" href="#stage-result-interpretation" title="Link to this heading"></a></h3>
<p>Each stage returns one of four possible results:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Stage Result Codes</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 15.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p><strong>PASS</strong></p></td>
<td><p>Stage completed successfully with expected results</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p><strong>FAIL</strong></p></td>
<td><p>Stage failed but this was unexpected (indicates problem)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">E</span></code></p></td>
<td><p><strong>ERROR</strong></p></td>
<td><p>Stage encountered an error or exception (system issue)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p><strong>SKIP</strong></p></td>
<td><p>Stage was skipped due to earlier failure or configuration</p></td>
</tr>
</tbody>
</table>
<p><strong>Special Cases for Malicious Programs:</strong></p>
<ul class="simple">
<li><p><strong>Security_Deep FAIL</strong> → converted to <strong>PASS</strong> (successfully detected threat)</p></li>
<li><p><strong>Security FAIL</strong> → converted to <strong>PASS</strong> (successfully detected threat)</p></li>
<li><p><strong>CodeGen FAIL</strong> → converted to <strong>PASS</strong> (correctly blocked malicious code)</p></li>
<li><p><strong>Execution FAIL</strong> → expected (malicious code should not execute)</p></li>
</ul>
</section>
<section id="pipeline-flow-control">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Pipeline Flow Control</a><a class="headerlink" href="#pipeline-flow-control" title="Link to this heading"></a></h3>
<p><strong>Early Termination Conditions:</strong></p>
<ol class="arabic simple">
<li><p><strong>Parse Failure</strong>: Stops pipeline immediately (no AST to analyze)</p></li>
<li><p><strong>AST_Valid Failure</strong>: Stops pipeline (unsafe to continue with malformed AST)</p></li>
<li><p><strong>Security Failure</strong>: Continues analysis but may skip CodeGen/Execution based on category</p></li>
</ol>
<p><strong>Conditional Execution:</strong></p>
<ul class="simple">
<li><p><strong>CodeGen</strong>: Only runs if <code class="docutils literal notranslate"><span class="pre">should_transpile</span></code> is true for file category</p></li>
<li><p><strong>Execution</strong>: Only runs if CodeGen succeeded and <code class="docutils literal notranslate"><span class="pre">should_execute</span></code> is true</p></li>
<li><p><strong>Security Analysis</strong>: Always runs regardless of other stage results</p></li>
</ul>
<p><strong>Category-Based Expectations:</strong></p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Expected Results by Category</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Security Threats</p></th>
<th class="head"><p>Should Transpile</p></th>
<th class="head"><p>Should Execute</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">legitimate_programs</span></code></p></td>
<td><p>0</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>Real applications that should work completely</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">malicious_programs</span></code></p></td>
<td><p>≥1</p></td>
<td><p>✗</p></td>
<td><p>✗</p></td>
<td><p>Should be blocked by security analysis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">edge_cases</span></code></p></td>
<td><p>0</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>Boundary conditions that should work</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">language_coverage</span></code></p></td>
<td><p>0</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>Core language features demonstration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="test-categories">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Test Categories</a><a class="headerlink" href="#test-categories" title="Link to this heading"></a></h3>
<section id="language-coverage-25-files">
<h4><a class="toc-backref" href="#id18" role="doc-backlink">Language Coverage (25 files)</a><a class="headerlink" href="#language-coverage-25-files" title="Link to this heading"></a></h4>
<p>Tests core ML language features:</p>
<ul class="simple">
<li><p><strong>Control Flow</strong>: if/elif/else, while, for, try/catch</p></li>
<li><p><strong>Data Structures</strong>: arrays, objects, comprehensive operations</p></li>
<li><p><strong>Functions</strong>: definitions, calls, parameters, advanced patterns</p></li>
<li><p><strong>Mathematical Operations</strong>: arithmetic, scientific computation</p></li>
<li><p><strong>String Operations</strong>: manipulation, formatting, validation</p></li>
<li><p><strong>Standard Library</strong>: integration and module testing</p></li>
</ul>
<p><strong>Example Files:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">comprehensive_array_operations.ml</span></code> (758 lines)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">complex_algorithms_implementations.ml</span></code> (794 lines)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">real_world_applications_simulation.ml</span></code> (981 lines)</p></li>
</ul>
</section>
<section id="malicious-programs-4-files">
<h4><a class="toc-backref" href="#id19" role="doc-backlink">Malicious Programs (4 files)</a><a class="headerlink" href="#malicious-programs-4-files" title="Link to this heading"></a></h4>
<p>Security threat validation:</p>
<ul class="simple">
<li><p><strong>Code Injection</strong>: eval, exec, dangerous function calls</p></li>
<li><p><strong>SQL Injection</strong>: dynamic query construction attacks</p></li>
<li><p><strong>Import Evasion</strong>: dangerous module import attempts</p></li>
<li><p><strong>Reflection Abuse</strong>: class hierarchy traversal exploits</p></li>
</ul>
<p>All malicious programs should be <strong>blocked</strong> (CodeGen/Execution fail).</p>
</section>
<section id="legitimate-programs-2-files">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">Legitimate Programs (2 files)</a><a class="headerlink" href="#legitimate-programs-2-files" title="Link to this heading"></a></h4>
<p>Real-world application testing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data_analysis.ml</span></code> - Statistical analysis pipeline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">web_scraper.ml</span></code> - HTTP request and parsing simulation</p></li>
</ul>
</section>
<section id="edge-cases-2-files">
<h4><a class="toc-backref" href="#id21" role="doc-backlink">Edge Cases (2 files)</a><a class="headerlink" href="#edge-cases-2-files" title="Link to this heading"></a></h4>
<p>Boundary condition testing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deep_nesting.ml</span></code> - Deeply nested control structures</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unicode_attacks.ml</span></code> - Unicode-based security attempts</p></li>
</ul>
</section>
<section id="examples-3-files">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">Examples (3 files)</a><a class="headerlink" href="#examples-3-files" title="Link to this heading"></a></h4>
<p>Documentation and capability demonstrations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">capability_integration_demo.ml</span></code> - Capability-based security</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">standard_library_demo.ml</span></code> - Complete stdlib showcase</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stdlib_simple_test.ml</span></code> - Basic stdlib validation</p></li>
</ul>
</section>
</section>
<section id="output-formats">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Output Formats</a><a class="headerlink" href="#output-formats" title="Link to this heading"></a></h3>
<section id="matrix-view">
<h4><a class="toc-backref" href="#id24" role="doc-backlink">Matrix View</a><a class="headerlink" href="#matrix-view" title="Link to this heading"></a></h4>
<p>Visual grid showing stage results:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="n">File</span>                          <span class="n">Cat</span>      <span class="n">Overall</span>  <span class="n">Parse</span>  <span class="n">AST</span>  <span class="n">Security</span>  <span class="n">CodeGen</span>  <span class="n">Exec</span>
<span class="n">basic_features</span><span class="p">.</span><span class="n">ml</span>            <span class="n">lang_c</span>   <span class="o">+</span>        <span class="o">+</span>      <span class="o">+</span>    <span class="o">+</span>         <span class="o">+</span>        <span class="o">+</span>
<span class="n">malicious_code</span><span class="p">.</span><span class="n">ml</span>            <span class="n">mal_p</span>    <span class="o">+</span>        <span class="o">+</span>      <span class="o">+</span>    <span class="o">+</span>         <span class="o">-</span>        <span class="o">-</span>
</pre></div>
</div>
<p><strong>Symbols:</strong>
- <code class="docutils literal notranslate"><span class="pre">+</span></code> = Success
- <code class="docutils literal notranslate"><span class="pre">X</span></code> = Failure (file should pass but failed)
- <code class="docutils literal notranslate"><span class="pre">-</span></code> = Skipped (due to earlier failure)</p>
</section>
<section id="detailed-output">
<h4><a class="toc-backref" href="#id25" role="doc-backlink">Detailed Output</a><a class="headerlink" href="#detailed-output" title="Link to this heading"></a></h4>
<p>Per-file analysis with error messages:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">1</span><span class="o">/</span><span class="mf">36</span><span class="p">]</span> <span class="n">basic_features</span><span class="p">.</span><span class="n">ml</span>
    <span class="n">Parse</span><span class="nc">SUCCESS</span> <span class="p">(</span><span class="mf">0.</span><span class="err">05ms</span><span class="p">)</span>
    <span class="n">Security</span><span class="nc">SUCCESS</span> <span class="p">(</span><span class="mf">0.</span><span class="err">14ms</span><span class="p">)</span>
    <span class="n">CodeGen</span><span class="nc">SUCCESS</span> <span class="p">(</span><span class="mf">15.</span><span class="err">2ms</span><span class="p">)</span>
    <span class="n">Overall</span><span class="nc">PASS</span>

<span class="p">[</span><span class="mf">2</span><span class="o">/</span><span class="mf">36</span><span class="p">]</span> <span class="n">malicious_code</span><span class="p">.</span><span class="n">ml</span>
    <span class="n">Security</span><span class="nc">BLOCKED</span> <span class="p">(</span><span class="mf">3</span> <span class="n">threats</span> <span class="n">detected</span><span class="p">)</span>
    <span class="n">CodeGen</span><span class="nc">SKIPPED</span> <span class="p">(</span><span class="n">security</span> <span class="n">failure</span><span class="p">)</span>
    <span class="n">Overall</span><span class="nc">PASS</span> <span class="p">(</span><span class="n">correctly</span> <span class="n">blocked</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="json-results">
<h4><a class="toc-backref" href="#id26" role="doc-backlink">JSON Results</a><a class="headerlink" href="#json-results" title="Link to this heading"></a></h4>
<p>Machine-readable output saved to <code class="docutils literal notranslate"><span class="pre">ml_full_results.json</span></code>:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mf">1758894588.1585824</span><span class="p">,</span>
  <span class="s2">&quot;total_files&quot;</span><span class="p">:</span> <span class="mf">36</span><span class="p">,</span>
  <span class="s2">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;basic_features.ml&quot;</span><span class="p">,</span>
      <span class="s2">&quot;overall_result&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
      <span class="s2">&quot;security_threats&quot;</span><span class="p">:</span> <span class="mf">0</span><span class="p">,</span>
      <span class="s2">&quot;total_time_ms&quot;</span><span class="p">:</span> <span class="mf">51.3</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="performance-metrics">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Performance Metrics</a><a class="headerlink" href="#performance-metrics" title="Link to this heading"></a></h3>
<section id="current-benchmarks">
<h4><a class="toc-backref" href="#id28" role="doc-backlink">Current Benchmarks</a><a class="headerlink" href="#current-benchmarks" title="Link to this heading"></a></h4>
<p><strong>Overall Results</strong> (as of January 2025):</p>
<ul class="simple">
<li><p><strong>Success Rate</strong>: 94.4% (34/36 files)</p></li>
<li><p><strong>Average Time</strong>: 492ms per file</p></li>
<li><p><strong>Total Coverage</strong>: 11,478 lines of ML code</p></li>
</ul>
<p><strong>Stage Success Rates</strong>:</p>
<ul class="simple">
<li><p>Parse: 94.4% (34/36)</p></li>
<li><p>Security_Deep: 94.4% (34/36)</p></li>
<li><p>Security: 94.4% (34/36)</p></li>
<li><p>CodeGen: 83.3% (30/36)</p></li>
<li><p>Execution: 83.3% (30/36)</p></li>
</ul>
<p><strong>Security Effectiveness</strong>:</p>
<ul class="simple">
<li><p>Malicious Detection: 100% (4/4 blocked)</p></li>
<li><p>False Positive Rate: 0% (0 legitimate programs flagged)</p></li>
</ul>
</section>
</section>
<section id="integration-with-development">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">Integration with Development</a><a class="headerlink" href="#integration-with-development" title="Link to this heading"></a></h3>
<section id="continuous-integration">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">Continuous Integration</a><a class="headerlink" href="#continuous-integration" title="Link to this heading"></a></h4>
<p>Add to CI pipeline:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="err">#</span> <span class="p">.</span><span class="n">github</span><span class="o">/</span><span class="n">workflows</span><span class="o">/</span><span class="n">test</span><span class="p">.</span><span class="n">yml</span>
<span class="o">-</span> <span class="n">name</span><span class="nc">Run</span> <span class="n">ML</span> <span class="n">Pipeline</span> <span class="n">Tests</span>
  <span class="n">run</span><span class="p">:</span> <span class="o">|</span>
    <span class="n">python</span> <span class="n">tests</span><span class="o">/</span><span class="n">ml_test_runner</span><span class="p">.</span><span class="n">py</span> <span class="o">--</span><span class="n">full</span> <span class="o">--</span><span class="n">matrix</span>
    <span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="o">?</span> <span class="o">-</span><span class="n">ne</span> <span class="mf">0</span> <span class="p">];</span> <span class="n">then</span>
      <span class="n">echo</span> <span class="s2">&quot;Pipeline tests failed&quot;</span>
      <span class="n">exit</span> <span class="mf">1</span>
    <span class="n">fi</span>
</pre></div>
</div>
</section>
<section id="pre-commit-hooks">
<h4><a class="toc-backref" href="#id31" role="doc-backlink">Pre-commit Hooks</a><a class="headerlink" href="#pre-commit-hooks" title="Link to this heading"></a></h4>
<p>Validate changes before commit:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="err">#</span><span class="o">!/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
<span class="err">#</span> <span class="p">.</span><span class="n">git</span><span class="o">/</span><span class="n">hooks</span><span class="o">/</span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span>
<span class="n">python</span> <span class="n">tests</span><span class="o">/</span><span class="n">ml_test_runner</span><span class="p">.</span><span class="n">py</span> <span class="o">--</span><span class="n">parse</span> <span class="o">--</span><span class="n">category</span> <span class="n">language_coverage</span>
<span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="o">?</span> <span class="o">-</span><span class="n">ne</span> <span class="mf">0</span> <span class="p">];</span> <span class="n">then</span>
  <span class="n">echo</span> <span class="s2">&quot;ML parsing tests failed - commit blocked&quot;</span>
  <span class="n">exit</span> <span class="mf">1</span>
<span class="n">fi</span>
</pre></div>
</div>
</section>
<section id="performance-regression-detection">
<h4><a class="toc-backref" href="#id32" role="doc-backlink">Performance Regression Detection</a><a class="headerlink" href="#performance-regression-detection" title="Link to this heading"></a></h4>
<p>Monitor performance changes:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="err">#</span> <span class="n">Compare</span> <span class="n">with</span> <span class="n">baseline</span>
<span class="n">python</span> <span class="n">tests</span><span class="o">/</span><span class="n">ml_test_runner</span><span class="p">.</span><span class="n">py</span> <span class="o">--</span><span class="n">full</span> <span class="o">&gt;</span> <span class="n">current_results</span><span class="p">.</span><span class="n">txt</span>
<span class="n">python</span> <span class="n">scripts</span><span class="o">/</span><span class="n">compare_performance</span><span class="p">.</span><span class="n">py</span> <span class="n">baseline</span><span class="p">.</span><span class="n">txt</span> <span class="n">current_results</span><span class="p">.</span><span class="n">txt</span>
</pre></div>
</div>
</section>
</section>
<section id="adding-new-tests">
<h3><a class="toc-backref" href="#id33" role="doc-backlink">Adding New Tests</a><a class="headerlink" href="#adding-new-tests" title="Link to this heading"></a></h3>
<section id="test-file-structure">
<h4><a class="toc-backref" href="#id34" role="doc-backlink">Test File Structure</a><a class="headerlink" href="#test-file-structure" title="Link to this heading"></a></h4>
<p>Create new ML test files in appropriate directories:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="n">tests</span><span class="o">/</span><span class="n">ml_integration</span><span class="o">/</span>
<span class="err">├──</span> <span class="n">language_coverage</span><span class="o">/</span>      <span class="err">#</span> <span class="n">Core</span> <span class="n">language</span> <span class="n">features</span>
<span class="err">├──</span> <span class="n">malicious_programs</span><span class="o">/</span>     <span class="err">#</span> <span class="n">Security</span> <span class="n">threats</span>
<span class="err">├──</span> <span class="n">legitimate_programs</span><span class="o">/</span>    <span class="err">#</span> <span class="n">Real</span> <span class="n">applications</span>
<span class="err">└──</span> <span class="n">edge_cases</span><span class="o">/</span>            <span class="err">#</span> <span class="n">Boundary</span> <span class="n">conditions</span>
</pre></div>
</div>
<p><strong>File Naming Convention:</strong></p>
<ul class="simple">
<li><p>Use descriptive names: <code class="docutils literal notranslate"><span class="pre">comprehensive_array_operations.ml</span></code></p></li>
<li><p>Include complexity in filename: <code class="docutils literal notranslate"><span class="pre">complex_algorithms_implementations.ml</span></code></p></li>
<li><p>Indicate purpose: <code class="docutils literal notranslate"><span class="pre">malicious_sql_injection.ml</span></code></p></li>
</ul>
</section>
<section id="test-requirements">
<h4><a class="toc-backref" href="#id35" role="doc-backlink">Test Requirements</a><a class="headerlink" href="#test-requirements" title="Link to this heading"></a></h4>
<p>Each test file should:</p>
<ol class="arabic">
<li><p><strong>Include Category Comment</strong>:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="c1">// Language Coverage Test - Array Operations</span>
<span class="c1">// Tests comprehensive array manipulation features</span>
</pre></div>
</div>
</li>
<li><p><strong>Provide Realistic Examples</strong>:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="c1">// Real-world use case, not artificial test code</span>
<span class="k">function</span> <span class="n">processUserData</span><span class="p">(</span><span class="n">users</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">users</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">u</span> <span class="o">=&gt;</span> <span class="n">u</span><span class="p">.</span><span class="n">active</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="n">u</span> <span class="o">=&gt;</span> <span class="n">u</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Include Edge Cases</strong>:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="c1">// Test boundary conditions</span>
<span class="n">empty_array</span> <span class="o">=</span> <span class="p">[];</span>
<span class="n">large_array</span> <span class="o">=</span> <span class="n">range</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">10000</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p><strong>Document Expected Behavior</strong>:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="c1">// Should transpile successfully and execute without errors</span>
<span class="c1">// Expected output: processed user list</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="debugging-failed-tests">
<h3><a class="toc-backref" href="#id36" role="doc-backlink">Debugging Failed Tests</a><a class="headerlink" href="#debugging-failed-tests" title="Link to this heading"></a></h3>
<section id="common-issues">
<h4><a class="toc-backref" href="#id37" role="doc-backlink">Common Issues</a><a class="headerlink" href="#common-issues" title="Link to this heading"></a></h4>
<p><strong>Parse Failures:</strong></p>
<ul class="simple">
<li><p>Check ML syntax against grammar (<code class="docutils literal notranslate"><span class="pre">src/mlpy/ml/grammar/ml.lark</span></code>)</p></li>
<li><p>Verify all language constructs are supported</p></li>
<li><p>Look for typos in keywords (<code class="docutils literal notranslate"><span class="pre">funcion</span></code> vs <code class="docutils literal notranslate"><span class="pre">function</span></code>)</p></li>
</ul>
<p><strong>Security Failures:</strong></p>
<ul class="simple">
<li><p>Review Security_Deep and Parallel analyzer logs</p></li>
<li><p>Check for false positives in legitimate code</p></li>
<li><p>Verify malicious code is properly blocked</p></li>
</ul>
<p><strong>CodeGen Failures:</strong></p>
<ul class="simple">
<li><p>Check for missing visitor methods in PythonCodeGenerator</p></li>
<li><p>Look for unsupported AST node types</p></li>
<li><p>Verify abstract method implementations</p></li>
</ul>
<p><strong>Execution Failures:</strong></p>
<ul class="simple">
<li><p>Check sandbox configuration and capabilities</p></li>
<li><p>Verify generated Python syntax is valid</p></li>
<li><p>Look for runtime import or dependency issues</p></li>
</ul>
</section>
<section id="debugging-commands">
<h4><a class="toc-backref" href="#id38" role="doc-backlink">Debugging Commands</a><a class="headerlink" href="#debugging-commands" title="Link to this heading"></a></h4>
<p>Run specific test with detailed output:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">tests</span><span class="o">/</span><span class="n">ml_test_runner</span><span class="p">.</span><span class="n">py</span> <span class="o">--</span><span class="n">full</span> <span class="o">--</span><span class="n">details</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">A</span> <span class="mf">10</span> <span class="s2">&quot;failing_file.ml&quot;</span>
</pre></div>
</div>
<p>Test single pipeline stage:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;</span>
<span class="s2">from tests.ml_test_runner import UnifiedMLTestRunner</span>
<span class="s2">runner = UnifiedMLTestRunner()</span>
<span class="s2"># Debug specific file</span>
<span class="s2">&quot;</span>
</pre></div>
</div>
<p>Enable verbose logging:</p>
<div class="highlight-ml notranslate"><div class="highlight"><pre><span></span><span class="k">export</span> <span class="n">ML_DEBUG</span><span class="o">=</span><span class="mf">1</span>
<span class="n">python</span> <span class="n">tests</span><span class="o">/</span><span class="n">ml_test_runner</span><span class="p">.</span><span class="n">py</span> <span class="o">--</span><span class="n">full</span>
</pre></div>
</div>
</section>
</section>
<section id="best-practices">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">Best Practices</a><a class="headerlink" href="#best-practices" title="Link to this heading"></a></h3>
<section id="test-development">
<h4><a class="toc-backref" href="#id40" role="doc-backlink">Test Development</a><a class="headerlink" href="#test-development" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p><strong>Start Simple</strong>: Begin with basic language features</p></li>
<li><p><strong>Add Complexity Gradually</strong>: Build up to real-world examples</p></li>
<li><p><strong>Include Security Cases</strong>: Test both safe and dangerous patterns</p></li>
<li><p><strong>Performance Awareness</strong>: Monitor test execution times</p></li>
<li><p><strong>Documentation</strong>: Comment complex test scenarios</p></li>
</ol>
</section>
<section id="quality-assurance">
<h4><a class="toc-backref" href="#id41" role="doc-backlink">Quality Assurance</a><a class="headerlink" href="#quality-assurance" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p><strong>Maintain 90%+ Success Rate</strong>: Target high pipeline reliability</p></li>
<li><p><strong>Zero False Positives</strong>: Legitimate code should not be blocked</p></li>
<li><p><strong>100% Malicious Detection</strong>: All threats must be caught</p></li>
<li><p><strong>Performance Targets</strong>: Sub-500ms average per file</p></li>
<li><p><strong>Comprehensive Coverage</strong>: Test all language constructs</p></li>
</ol>
</section>
</section>
<section id="troubleshooting">
<h3><a class="toc-backref" href="#id42" role="doc-backlink">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h3>
<section id="common-solutions">
<h4><a class="toc-backref" href="#id43" role="doc-backlink">Common Solutions</a><a class="headerlink" href="#common-solutions" title="Link to this heading"></a></h4>
<p><strong>“Abstract method not implemented” errors:</strong></p>
<ul class="simple">
<li><p>Add missing visitor methods to analyzer classes</p></li>
<li><p>Check method signatures match parent class</p></li>
<li><p>Implement for all AST node types</p></li>
</ul>
<p><strong>“SecurityAnalyzer failed” errors:</strong></p>
<ul class="simple">
<li><p>Update context detection for new patterns</p></li>
<li><p>Add safe contexts for demo/test code</p></li>
<li><p>Refine threat detection patterns</p></li>
</ul>
<p><strong>“Parse failed” errors:</strong></p>
<ul class="simple">
<li><p>Update ML grammar for new language features</p></li>
<li><p>Check token definitions and precedence</p></li>
<li><p>Verify transformer methods exist</p></li>
</ul>
<p><strong>Performance issues:</strong></p>
<ul class="simple">
<li><p>Profile slow test files</p></li>
<li><p>Check for infinite loops in analysis</p></li>
<li><p>Optimize pattern matching regular expressions</p></li>
</ul>
</section>
<section id="getting-help">
<h4><a class="toc-backref" href="#id44" role="doc-backlink">Getting Help</a><a class="headerlink" href="#getting-help" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p><strong>Check Logs</strong>: Enable detailed logging for diagnosis</p></li>
<li><p><strong>Review Documentation</strong>: Check language reference and API docs</p></li>
<li><p><strong>Test Isolation</strong>: Run single files to isolate issues</p></li>
<li><p><strong>Performance Profiling</strong>: Use built-in timing analysis</p></li>
<li><p><strong>Security Analysis</strong>: Examine threat detection details</p></li>
</ol>
<p>The ML test runner provides comprehensive validation infrastructure ensuring the pipeline maintains production-level quality as new features are developed.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="development-standards.html" class="btn btn-neutral float-left" title="Development Standards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api/modules.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, mlpy Development Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>